{"ast":null,"code":"var _jsxFileName = \"/Users/dahan/Desktop/blockchain/BTA1stProject-18/near-pocket/src/views/Popup/LockAccount.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Box from '@mui/material/Box';\nimport { Button, IconButton, OutlinedInput, InputLabel, InputAdornment, FormControl, Typography } from '@mui/material';\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\nimport useAlert from '../../hooks/useAlert';\nimport Visibility from '@mui/icons-material/Visibility';\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\nimport { encryptMessage, getAccountIds, getStorageSyncValue, setStorageSyncValue } from '../../utils/utilsUpdated';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LockAccount = () => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const {\n    setAlert\n  } = useAlert();\n  const navigate = useNavigate();\n  const handleShowPassword = () => setShowPassword(!showPassword);\n  const unlockAccount = async () => {\n    try {\n      if (!password) {\n        setAlert('error', '비밀번호를 입력해주세요.');\n        return;\n      }\n      setLoading(true);\n      //패스워드 비교\n      const savedPassword = await getStorageSyncValue('hashedPassword', true);\n      if (savedPassword !== password) {\n        setAlert('error', '비밀번호가 올바르지 않습니다.');\n        setLoading(false);\n        return;\n      }\n      localStorage.setItem('wallet', true);\n      setAlert('success', '다시 오신것을 환영합니다.');\n      navigate('/dashboard');\n    } catch (error) {\n      console.log('err===', error.message);\n      setLoading(false);\n      setAlert('error', error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      align: \"left\",\n      mt: 5,\n      mb: 5,\n      sx: {\n        fontWeight: 500\n      },\n      color: \"secondary\",\n      children: [\"NEAR Pocket\\uC774 \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 22\n      }, this), \" \\uC7A0\\uAE34 \\uC0C1\\uD0DC\\uC785\\uB2C8\\uB2E4.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"subtitle2\",\n      sx: {\n        color: '#636363'\n      },\n      mt: 2,\n      children: [\"NEAR Pocket \\uACC4\\uC815 \\uC7A0\\uAE08\\uC744 \\uD574\\uC81C\\uD558\\uB824\\uBA74 \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 34\n      }, this), \" \\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      noValidate: true,\n      autoComplete: \"off\",\n      mt: 5,\n      children: /*#__PURE__*/_jsxDEV(FormControl, {\n        fullWidth: true,\n        variant: \"outlined\",\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"outlined-adornment-password\",\n          children: \"\\uBE44\\uBC00\\uBC88\\uD638\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(OutlinedInput, {\n          id: \"outlined-adornment-password\",\n          type: showPassword ? 'text' : 'password',\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n            position: \"end\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"toggle password visibility\",\n              onClick: handleShowPassword,\n              edge: \"end\",\n              children: showPassword ? /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 35\n              }, this) : /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 55\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this),\n          label: \"\\uBE44\\uBC00\\uBC88\\uD638\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 5,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: unlockAccount,\n        fullWidth: true,\n        variant: \"contained\",\n        disabled: !password,\n        children: \"\\uC7A0\\uAE08 \\uD574\\uC81C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(LockAccount, \"nuFEJPlBkQ/T9HcwR6dckUGwMUY=\", false, function () {\n  return [useAlert, useNavigate];\n});\n_c = LockAccount;\nexport default LockAccount;\nvar _c;\n$RefreshReg$(_c, \"LockAccount\");","map":{"version":3,"names":["React","useState","useNavigate","Box","Button","IconButton","OutlinedInput","InputLabel","InputAdornment","FormControl","Typography","LoadingSpinner","useAlert","Visibility","VisibilityOff","encryptMessage","getAccountIds","getStorageSyncValue","setStorageSyncValue","LockAccount","loading","setLoading","password","setPassword","showPassword","setShowPassword","setAlert","navigate","handleShowPassword","unlockAccount","savedPassword","localStorage","setItem","error","console","log","message","fontWeight","color","e","target","value"],"sources":["/Users/dahan/Desktop/blockchain/BTA1stProject-18/near-pocket/src/views/Popup/LockAccount.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Box from '@mui/material/Box';\nimport { Button, IconButton, OutlinedInput, InputLabel, InputAdornment, FormControl, Typography } from '@mui/material';\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\nimport useAlert from '../../hooks/useAlert';\nimport Visibility from '@mui/icons-material/Visibility';\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\n\nimport { encryptMessage, getAccountIds, getStorageSyncValue, setStorageSyncValue } from '../../utils/utilsUpdated';\n\nconst LockAccount = () => {\n  const [loading, setLoading] = useState(false);\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n\n  const { setAlert } = useAlert();\n  const navigate = useNavigate();\n\n  const handleShowPassword = () => setShowPassword(!showPassword);\n\n  const unlockAccount = async () => {\n    try {\n      if (!password) {\n        setAlert('error', '비밀번호를 입력해주세요.');\n        return;\n      }\n      setLoading(true);\n      //패스워드 비교\n      const savedPassword = await getStorageSyncValue('hashedPassword', true);\n      if (savedPassword !== password) {\n        setAlert('error', '비밀번호가 올바르지 않습니다.');\n        setLoading(false);\n        return;\n      }\n      localStorage.setItem('wallet', true);\n      setAlert('success', '다시 오신것을 환영합니다.');\n      navigate('/dashboard');\n    } catch (error) {\n      console.log('err===', error.message);\n      setLoading(false);\n      setAlert('error', error.message);\n    }\n  };\n\n  return (\n    <Box>\n      <Typography variant='h4' align='left' mt={5} mb={5} sx={{ fontWeight: 500 }} color='secondary'>\n        NEAR Pocket이 <br /> 잠긴 상태입니다.\n      </Typography>\n      <Typography variant='subtitle2' sx={{ color: '#636363' }} mt={2}>\n        NEAR Pocket 계정 잠금을 해제하려면 <br /> 비밀번호를 입력해주세요.\n      </Typography>\n\n      <Box component='form' noValidate autoComplete='off' mt={5}>\n        <FormControl fullWidth variant='outlined'>\n          <InputLabel htmlFor='outlined-adornment-password'>비밀번호</InputLabel>\n          <OutlinedInput\n            id='outlined-adornment-password'\n            type={showPassword ? 'text' : 'password'}\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            endAdornment={\n              <InputAdornment position='end'>\n                <IconButton aria-label='toggle password visibility' onClick={handleShowPassword} edge='end'>\n                  {showPassword ? <VisibilityOff /> : <Visibility />}\n                </IconButton>\n              </InputAdornment>\n            }\n            label='비밀번호'\n          />\n        </FormControl>\n      </Box>\n      <Box mt={5}>\n        <Button onClick={unlockAccount} fullWidth variant='contained' disabled={!password}>\n          잠금 해제\n        </Button>\n      </Box>\n      {loading && <LoadingSpinner />}\n    </Box>\n  );\n};\n\nexport default LockAccount;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}